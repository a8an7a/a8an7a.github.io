/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./styles/styles.scss":
/*!****************************!*\
  !*** ./styles/styles.scss ***!
  \****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack:///./styles/styles.scss?");

/***/ }),

/***/ "./app.js":
/*!****************!*\
  !*** ./app.js ***!
  \****************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/graphics */ \"./graphics.js\");\n/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/data */ \"./data.js\");\n/* harmony import */ var _styles_styles_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/styles/styles.scss */ \"./styles/styles.scss\");\n\r\n\r\n\r\n\r\nconst tgGraphics = (0,_graphics__WEBPACK_IMPORTED_MODULE_0__.graphics)(document.querySelector('#graphics'), (0,_data__WEBPACK_IMPORTED_MODULE_1__.getChartData)())\r\ntgGraphics.init()\r\n\n\n//# sourceURL=webpack:///./app.js?");

/***/ }),

/***/ "./data.js":
/*!*****************!*\
  !*** ./data.js ***!
  \*****************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getChartData\": function() { return /* binding */ getChartData; }\n/* harmony export */ });\nfunction getChartData() {\r\n    return [\r\n        {\r\n            columns: [\r\n                [\r\n                    'x',\r\n                    1542412800000,\r\n                    1542499200000,\r\n                    1542585600000,\r\n                    1542672000000,\r\n                    1542758400000,\r\n                    1542844800000,\r\n                    1542931200000,\r\n                    1543017600000,\r\n                    1543104000000,\r\n                    1543190400000,\r\n                    1543276800000,\r\n                    1543363200000,\r\n                    1543449600000,\r\n                    1543536000000,\r\n                    1543622400000,\r\n                    1543708800000,\r\n                    1543795200000,\r\n                    1543881600000,\r\n                    1543968000000,\r\n                    1544054400000,\r\n                    1544140800000,\r\n                    1544227200000,\r\n                    1544313600000,\r\n                    1544400000000,\r\n                    1544486400000,\r\n                    1544572800000,\r\n                    1544659200000,\r\n                    1544745600000,\r\n                    1544832000000,\r\n                    1544918400000,\r\n                    1545004800000,\r\n                    1545091200000,\r\n                    1545177600000,\r\n                    1545264000000,\r\n                    1545350400000,\r\n                    1545436800000,\r\n                    1545523200000,\r\n                    1545609600000,\r\n                    1545696000000,\r\n                    1545782400000,\r\n                    1545868800000,\r\n                    1545955200000,\r\n                    1546041600000,\r\n                    1546128000000,\r\n                    1546214400000,\r\n                    1546300800000,\r\n                    1546387200000,\r\n                    1546473600000,\r\n                    1546560000000,\r\n                    1546646400000,\r\n                    1546732800000,\r\n                    1546819200000,\r\n                    1546905600000,\r\n                    1546992000000,\r\n                    1547078400000,\r\n                    1547164800000,\r\n                    1547251200000,\r\n                    1547337600000,\r\n                    1547424000000,\r\n                    1547510400000,\r\n                    1547596800000,\r\n                    1547683200000,\r\n                    1547769600000,\r\n                    1547856000000,\r\n                    1547942400000,\r\n                    1548028800000,\r\n                    1548115200000,\r\n                    1548201600000,\r\n                    1548288000000,\r\n                    1548374400000,\r\n                    1548460800000,\r\n                    1548547200000,\r\n                    1548633600000,\r\n                    1548720000000,\r\n                    1548806400000,\r\n                    1548892800000,\r\n                    1548979200000,\r\n                    1549065600000,\r\n                    1549152000000,\r\n                    1549238400000,\r\n                    1549324800000,\r\n                    1549411200000,\r\n                    1549497600000,\r\n                    1549584000000,\r\n                    1549670400000,\r\n                    1549756800000,\r\n                    1549843200000,\r\n                    1549929600000,\r\n                    1550016000000,\r\n                    1550102400000,\r\n                    1550188800000,\r\n                    1550275200000,\r\n                    1550361600000,\r\n                    1550448000000,\r\n                    1550534400000,\r\n                    1550620800000,\r\n                    1550707200000,\r\n                    1550793600000,\r\n                    1550880000000,\r\n                    1550966400000,\r\n                    1551052800000,\r\n                    1551139200000,\r\n                    1551225600000,\r\n                    1551312000000,\r\n                    1551398400000,\r\n                    1551484800000,\r\n                    1551571200000,\r\n                    1551657600000,\r\n                    1551744000000,\r\n                    1551830400000,\r\n                    1551916800000,\r\n                    1552003200000,\r\n                ],\r\n                [\r\n                    'y0',\r\n                    37,\r\n                    20,\r\n                    32,\r\n                    39,\r\n                    32,\r\n                    35,\r\n                    19,\r\n                    65,\r\n                    36,\r\n                    62,\r\n                    113,\r\n                    69,\r\n                    120,\r\n                    60,\r\n                    51,\r\n                    49,\r\n                    71,\r\n                    122,\r\n                    149,\r\n                    69,\r\n                    57,\r\n                    21,\r\n                    33,\r\n                    55,\r\n                    92,\r\n                    62,\r\n                    47,\r\n                    50,\r\n                    56,\r\n                    116,\r\n                    63,\r\n                    60,\r\n                    55,\r\n                    65,\r\n                    76,\r\n                    33,\r\n                    45,\r\n                    64,\r\n                    54,\r\n                    81,\r\n                    180,\r\n                    123,\r\n                    106,\r\n                    37,\r\n                    60,\r\n                    70,\r\n                    46,\r\n                    68,\r\n                    46,\r\n                    51,\r\n                    33,\r\n                    57,\r\n                    75,\r\n                    70,\r\n                    95,\r\n                    70,\r\n                    50,\r\n                    68,\r\n                    63,\r\n                    66,\r\n                    53,\r\n                    38,\r\n                    52,\r\n                    109,\r\n                    121,\r\n                    53,\r\n                    36,\r\n                    71,\r\n                    96,\r\n                    55,\r\n                    58,\r\n                    29,\r\n                    31,\r\n                    55,\r\n                    52,\r\n                    44,\r\n                    126,\r\n                    191,\r\n                    73,\r\n                    87,\r\n                    255,\r\n                    278,\r\n                    219,\r\n                    170,\r\n                    129,\r\n                    125,\r\n                    126,\r\n                    84,\r\n                    65,\r\n                    53,\r\n                    154,\r\n                    57,\r\n                    71,\r\n                    64,\r\n                    75,\r\n                    72,\r\n                    39,\r\n                    47,\r\n                    52,\r\n                    73,\r\n                    89,\r\n                    156,\r\n                    86,\r\n                    105,\r\n                    88,\r\n                    45,\r\n                    33,\r\n                    56,\r\n                    142,\r\n                    124,\r\n                    114,\r\n                    64,\r\n                ],\r\n                [\r\n                    'y1',\r\n                    22,\r\n                    12,\r\n                    30,\r\n                    40,\r\n                    33,\r\n                    23,\r\n                    18,\r\n                    41,\r\n                    45,\r\n                    69,\r\n                    57,\r\n                    61,\r\n                    70,\r\n                    47,\r\n                    31,\r\n                    34,\r\n                    40,\r\n                    55,\r\n                    27,\r\n                    57,\r\n                    48,\r\n                    32,\r\n                    40,\r\n                    49,\r\n                    54,\r\n                    49,\r\n                    34,\r\n                    51,\r\n                    51,\r\n                    51,\r\n                    66,\r\n                    51,\r\n                    94,\r\n                    60,\r\n                    64,\r\n                    28,\r\n                    44,\r\n                    96,\r\n                    49,\r\n                    73,\r\n                    30,\r\n                    88,\r\n                    63,\r\n                    42,\r\n                    56,\r\n                    67,\r\n                    52,\r\n                    67,\r\n                    35,\r\n                    61,\r\n                    40,\r\n                    55,\r\n                    63,\r\n                    61,\r\n                    105,\r\n                    59,\r\n                    51,\r\n                    76,\r\n                    63,\r\n                    57,\r\n                    47,\r\n                    56,\r\n                    51,\r\n                    98,\r\n                    103,\r\n                    62,\r\n                    54,\r\n                    104,\r\n                    48,\r\n                    41,\r\n                    41,\r\n                    37,\r\n                    30,\r\n                    28,\r\n                    26,\r\n                    37,\r\n                    65,\r\n                    86,\r\n                    70,\r\n                    81,\r\n                    54,\r\n                    74,\r\n                    70,\r\n                    50,\r\n                    74,\r\n                    79,\r\n                    85,\r\n                    62,\r\n                    36,\r\n                    46,\r\n                    68,\r\n                    43,\r\n                    66,\r\n                    50,\r\n                    28,\r\n                    66,\r\n                    39,\r\n                    23,\r\n                    63,\r\n                    74,\r\n                    83,\r\n                    66,\r\n                    40,\r\n                    60,\r\n                    29,\r\n                    36,\r\n                    27,\r\n                    54,\r\n                    89,\r\n                    50,\r\n                    73,\r\n                    52,\r\n                ],\r\n            ],\r\n            types: {\r\n                y0: 'line',\r\n                y1: 'line',\r\n                x: 'x',\r\n            },\r\n            names: {\r\n                y0: '#0',\r\n                y1: '#1',\r\n            },\r\n            colors: {\r\n                y0: '#3DC23F',\r\n                y1: '#F34C44',\r\n            },\r\n        },\r\n    ][0]\r\n}\r\n\n\n//# sourceURL=webpack:///./data.js?");

/***/ }),

/***/ "./graphics.js":
/*!*********************!*\
  !*** ./graphics.js ***!
  \*********************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"graphics\": function() { return /* binding */ graphics; }\n/* harmony export */ });\n/* harmony import */ var _tooltip__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/tooltip */ \"./tooltip.js\");\n/* harmony import */ var _slider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/slider */ \"./slider.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils */ \"./utils.js\");\n\r\n\r\n\r\n\r\nconst WIDTH = 600\r\nconst HEIGHT = 200\r\nconst PADDING = 40\r\nconst DPI_WIDTH = WIDTH * 2\r\nconst DPI_HEIGHT = HEIGHT * 2\r\nconst VIEW_WIDTH = DPI_WIDTH\r\nconst VIEW_HEIGHT = DPI_HEIGHT - PADDING * 2\r\nconst ROWS_COUNT = 5\r\nconst CIRCLE_RADIUS = 5\r\n\r\nfunction graphics(root, data) {\r\n    const canvas = root.querySelector('[data-element=\"main\"]')\r\n\r\n    // Получаем контекст Canvas-элемента\r\n    const context = canvas.getContext('2d')\r\n\r\n    // Инициализируем график-слайдер\r\n    const slider = (0,_slider__WEBPACK_IMPORTED_MODULE_1__.sliderGraphics)(\r\n        root.querySelector('[data-element=\"slider\"]'),\r\n        data,\r\n        DPI_WIDTH\r\n    )\r\n\r\n    // Устанавливаем размеры Canvas-элемента\r\n    ;(0,_utils__WEBPACK_IMPORTED_MODULE_2__.css)(canvas, {\r\n        width: `${WIDTH}px`,\r\n        height: `${HEIGHT}px`,\r\n    })\r\n\r\n    // Задаем разрешение Canvas вдвое больше изначальных параметров WIDTH и HEIGHT для более плавной анимации\r\n    canvas.width = DPI_WIDTH\r\n    canvas.height = DPI_HEIGHT\r\n\r\n    // Инициализируем элемент графика tooltip\r\n    const tip = (0,_tooltip__WEBPACK_IMPORTED_MODULE_0__.tooltip)(root.querySelector('[data-element=\"tooltip\"]'))\r\n\r\n    let raf = {}\r\n    const proxy = new Proxy(\r\n        {},\r\n        {\r\n            set(...args) {\r\n                const result = Reflect.set(...args)\r\n                raf = requestAnimationFrame(paint)\r\n                return result\r\n            },\r\n        }\r\n    )\r\n\r\n    slider.subscribe(position => {\r\n        proxy.position = position\r\n    })\r\n\r\n    canvas.addEventListener('mousemove', mousemove)\r\n    canvas.addEventListener('mouseleave', mouseleave)\r\n\r\n    function mousemove({ clientX, clientY }) {\r\n        const { left, top } = canvas.getBoundingClientRect()\r\n        proxy.mouse = {\r\n            x: (clientX - left) * 2,\r\n            tooltip: {\r\n                left: clientX - left,\r\n                top: clientY - top,\r\n            },\r\n        }\r\n    }\r\n\r\n    function mouseleave() {\r\n        proxy.mouse = null\r\n        tip.hide()\r\n    }\r\n\r\n    function clear() {\r\n        context.clearRect(0, 0, DPI_WIDTH, DPI_HEIGHT)\r\n    }\r\n\r\n    function paint() {\r\n        clear()\r\n\r\n        const length = data.columns[0].length\r\n        const leftIndex = Math.round((length * proxy.position[0]) / 100)\r\n        const rightIndex = Math.round((length * proxy.position[1]) / 100)\r\n\r\n        const columns = data.columns.map(column => {\r\n            const resurse = column.slice(leftIndex, rightIndex)\r\n            if (typeof resurse[0] !== 'string') {\r\n                resurse.unshift(column[0])\r\n            }\r\n            return resurse\r\n        })\r\n\r\n        // Вычисляем границы по Y на оси координат\r\n        const [yMin, yMax] = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.boundaries)({ columns, types: data.types })\r\n\r\n        // Вычисляем коэфициенты осей графика для динамической отриовки исходя от переданных данных\r\n        // const xRatio = VIEW_WIDTH / (columns[0].length - 2)\r\n        // const yRatio = VIEW_HEIGHT / (yMax - yMin)\r\n        const xRatio = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.computeXRatio)(VIEW_WIDTH, columns[0].length)\r\n        const yRatio = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.computeYRatio)(VIEW_HEIGHT, yMax, yMin)\r\n\r\n        // Получаем масивы с точками на осях координат\r\n        const yData = columns.filter(column => data.types[column[0]] === 'line')\r\n        const xData = columns.filter(\r\n            column => data.types[column[0]] !== 'line'\r\n        )[0]\r\n\r\n        // Отрисовка графика\r\n        yAxis(yMin, yMax)\r\n        xAxis(xData, yData, xRatio)\r\n\r\n        yData\r\n            .map((0,_utils__WEBPACK_IMPORTED_MODULE_2__.toCoordinates)(xRatio, yRatio, DPI_HEIGHT, PADDING, yMin))\r\n            .forEach((coordinates, index) => {\r\n                const color = data.colors[yData[index][0]]\r\n                ;(0,_utils__WEBPACK_IMPORTED_MODULE_2__.strokeLine)(context, coordinates, { color })\r\n\r\n                for (const [x, y] of coordinates) {\r\n                    if ((0,_utils__WEBPACK_IMPORTED_MODULE_2__.isOver)(proxy.mouse, x, coordinates.length, DPI_WIDTH)) {\r\n                        (0,_utils__WEBPACK_IMPORTED_MODULE_2__.circle)(context, [x, y], color, CIRCLE_RADIUS)\r\n                        break\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    function xAxis(xData, yData, xRatio) {\r\n        const colsCount = 6\r\n        const step = Math.round(xData.length / colsCount)\r\n\r\n        context.beginPath()\r\n\r\n        for (let i = 1; i < xData.length; i++) {\r\n            const x = i * xRatio\r\n\r\n            if ((i - 1) % step === 0) {\r\n                const text = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.toDate)(xData[i])\r\n                context.fillText(text.toString(), x, DPI_HEIGHT - 10)\r\n            }\r\n\r\n            if ((0,_utils__WEBPACK_IMPORTED_MODULE_2__.isOver)(proxy.mouse, x, xData.length, DPI_WIDTH)) {\r\n                context.save()\r\n                context.moveTo(x, PADDING / 2)\r\n                context.lineTo(x, DPI_HEIGHT - PADDING)\r\n                context.restore()\r\n\r\n                tip.show(proxy.mouse.tooltip, {\r\n                    title: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.toDate)(xData[i]),\r\n                    items: yData.map(column => ({\r\n                        color: data.colors[column[0]],\r\n                        name: data.names[column[0]],\r\n                        value: column[i + 1],\r\n                    })),\r\n                })\r\n            }\r\n        }\r\n\r\n        context.stroke()\r\n        context.closePath()\r\n    }\r\n\r\n    function yAxis(yMin, yMax) {\r\n        const step = VIEW_HEIGHT / ROWS_COUNT\r\n        const textStep = (yMax - yMin) / ROWS_COUNT\r\n\r\n        context.beginPath()\r\n\r\n        // Стилизация горизонтальных линий\r\n        context.lineWidth = 2\r\n        context.strokeStyle = '#EEEEEE'\r\n\r\n        context.font = 'normal 20px Helvetica, sans-serif'\r\n        context.fillStyle = '#333333'\r\n\r\n        for (let i = 1; i <= ROWS_COUNT; i++) {\r\n            const y = step * i\r\n            const text = Math.round(yMax - textStep * i)\r\n\r\n            context.fillText(text.toString(), 5, y + PADDING - 10)\r\n            context.moveTo(0, y + PADDING)\r\n            context.lineTo(DPI_WIDTH, y + PADDING)\r\n        }\r\n\r\n        context.stroke()\r\n        context.closePath()\r\n    }\r\n\r\n    return {\r\n        init() {\r\n            paint()\r\n        },\r\n        destroy() {\r\n            cancelAnimationFrame(raf)\r\n            canvas.removeEventListener('mousemove', mousemove)\r\n            canvas.removeEventListener('mouseleave', mouseleave)\r\n        },\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./graphics.js?");

/***/ }),

/***/ "./slider.js":
/*!*******************!*\
  !*** ./slider.js ***!
  \*******************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"sliderGraphics\": function() { return /* binding */ sliderGraphics; }\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils */ \"./utils.js\");\n\r\n\r\nfunction noop() {}\r\n\r\nconst HEIGHT = 40\r\nconst DPI_HEIGHT = HEIGHT * 2\r\n\r\nfunction sliderGraphics(root, data, DPI_WIDTH) {\r\n    let nextFn = noop\r\n\r\n    const WIDTH = DPI_WIDTH / 2\r\n    const MIN_WIDTH = WIDTH * 0.05\r\n\r\n    const canvas = root.querySelector('canvas')\r\n    const context = canvas.getContext('2d')\r\n\r\n    ;(0,_utils__WEBPACK_IMPORTED_MODULE_0__.css)(canvas, {\r\n        width: `${WIDTH}px`,\r\n        height: `${HEIGHT}px`,\r\n    })\r\n\r\n    canvas.width = DPI_WIDTH\r\n    canvas.height = DPI_HEIGHT\r\n\r\n    root.addEventListener('mousedown', mousedown)\r\n    document.addEventListener('mouseup', mouseup)\r\n\r\n    const $left = root.querySelector('[data-element=\"left\"]')\r\n    const $right = root.querySelector('[data-element=\"right\"]')\r\n    const $window = root.querySelector('[data-element=\"window\"]')\r\n\r\n    const defaultWidth = WIDTH * 0.3\r\n    setPosition(0, WIDTH - defaultWidth)\r\n\r\n    function setPosition(left, right) {\r\n        const w = WIDTH - right - left\r\n\r\n        if (w < MIN_WIDTH) {\r\n            (0,_utils__WEBPACK_IMPORTED_MODULE_0__.css)($window, { width: `${MIN_WIDTH}px` })\r\n            return\r\n        }\r\n\r\n        if (left < 0) {\r\n            (0,_utils__WEBPACK_IMPORTED_MODULE_0__.css)($window, { left: '0px' })\r\n            ;(0,_utils__WEBPACK_IMPORTED_MODULE_0__.css)($left, { width: '0px' })\r\n            return\r\n        }\r\n\r\n        if (right < 0) {\r\n            (0,_utils__WEBPACK_IMPORTED_MODULE_0__.css)($window, { right: '0px' })\r\n            ;(0,_utils__WEBPACK_IMPORTED_MODULE_0__.css)($right, { width: '0px' })\r\n            return\r\n        }\r\n\r\n        (0,_utils__WEBPACK_IMPORTED_MODULE_0__.css)($window, {\r\n            width: `${w}px`,\r\n            left: `${left}px`,\r\n            right: `${right}px`,\r\n        })\r\n        ;(0,_utils__WEBPACK_IMPORTED_MODULE_0__.css)($left, { width: `${left}px` })\r\n        ;(0,_utils__WEBPACK_IMPORTED_MODULE_0__.css)($right, { width: `${right}px` })\r\n    }\r\n\r\n    function getPosition() {\r\n        const left = parseInt($left.style.width)\r\n        const right = WIDTH - parseInt($right.style.width)\r\n\r\n        return [(left * 100) / WIDTH, (right * 100) / WIDTH]\r\n    }\r\n\r\n    function next() {\r\n        nextFn(getPosition())\r\n    }\r\n\r\n    function mousedown(event) {\r\n        const type = event.target.dataset.type\r\n        const dimensions = {\r\n            left: parseInt($window.style.left),\r\n            right: parseInt($window.style.right),\r\n            width: parseInt($window.style.width),\r\n        }\r\n\r\n        if (type === 'window') {\r\n            const startX = event.pageX\r\n            document.onmousemove = event => {\r\n                const delta = startX - event.pageX\r\n                if (delta === 0) {\r\n                    return\r\n                }\r\n\r\n                const left = dimensions.left - delta\r\n                const right = WIDTH - left - dimensions.width\r\n\r\n                setPosition(left, right)\r\n                next()\r\n            }\r\n        } else if (type === 'left' || type === 'right') {\r\n            const startX = event.pageX\r\n            document.onmousemove = event => {\r\n                const delta = startX - event.pageX\r\n                if (delta === 0) {\r\n                    return\r\n                }\r\n\r\n                if (type === 'left') {\r\n                    const left =\r\n                        WIDTH - (dimensions.width + delta) - dimensions.right\r\n                    const right = WIDTH - (dimensions.width + delta) - left\r\n\r\n                    setPosition(left, right)\r\n                } else {\r\n                    const right =\r\n                        WIDTH - (dimensions.width - delta) - dimensions.left\r\n                    setPosition(dimensions.left, right)\r\n                }\r\n                next()\r\n            }\r\n        }\r\n    }\r\n\r\n    function mouseup() {\r\n        document.onmousemove = null\r\n    }\r\n\r\n    const [yMin, yMax] = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.boundaries)(data)\r\n\r\n    const xRatio = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.computeXRatio)(DPI_WIDTH, data.columns[0].length)\r\n    const yRatio = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.computeYRatio)(DPI_HEIGHT, yMax, yMin)\r\n\r\n    const yData = data.columns.filter(\r\n        column => data.types[column[0]] === 'line'\r\n    )\r\n\r\n    yData\r\n        .map((0,_utils__WEBPACK_IMPORTED_MODULE_0__.toCoordinates)(xRatio, yRatio, DPI_HEIGHT, -5, yMin))\r\n        .forEach((coordinates, index) => {\r\n            const color = data.colors[yData[index][0]]\r\n            ;(0,_utils__WEBPACK_IMPORTED_MODULE_0__.strokeLine)(context, coordinates, { color })\r\n        })\r\n\r\n    return {\r\n        subscribe(fn) {\r\n            nextFn = fn\r\n            fn(getPosition())\r\n        },\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./slider.js?");

/***/ }),

/***/ "./tooltip.js":
/*!********************!*\
  !*** ./tooltip.js ***!
  \********************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"tooltip\": function() { return /* binding */ tooltip; }\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils */ \"./utils.js\");\n\r\n\r\nconst template = data => `\r\n    <div class=\"tooltip-title\">${data.title}</div>\r\n    <ul class=\"tooltip-list\">\r\n    ${data.items\r\n        .map(item => {\r\n            return `<li class=\"tooltip-list-item\">\r\n        <div class=\"value\" style=\"color: ${item.color}\">${item.value}</div>\r\n        <div class=\"name\" style=\"color: ${item.color}\">${item.name}</div>\r\n        </li>`\r\n        })\r\n        .join('\\n')}\r\n    </ul>\r\n`\r\n\r\nfunction tooltip(element) {\r\n    const clear = () => (element.innerHTML = '')\r\n\r\n    return {\r\n        show({ left, top }, data) {\r\n            const { height, width } = element.getBoundingClientRect()\r\n\r\n            clear()\r\n\r\n            ;(0,_utils__WEBPACK_IMPORTED_MODULE_0__.css)(element, {\r\n                display: 'block',\r\n                top: `${top - height}px`,\r\n                left: `${(left + width) / 2}px`,\r\n            })\r\n\r\n            element.insertAdjacentHTML('afterbegin', template(data))\r\n        },\r\n\r\n        hide() {\r\n            (0,_utils__WEBPACK_IMPORTED_MODULE_0__.css)(element, { display: 'none' })\r\n        },\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./tooltip.js?");

/***/ }),

/***/ "./utils.js":
/*!******************!*\
  !*** ./utils.js ***!
  \******************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"computeYRatio\": function() { return /* binding */ computeYRatio; },\n/* harmony export */   \"computeXRatio\": function() { return /* binding */ computeXRatio; },\n/* harmony export */   \"strokeLine\": function() { return /* binding */ strokeLine; },\n/* harmony export */   \"boundaries\": function() { return /* binding */ boundaries; },\n/* harmony export */   \"circle\": function() { return /* binding */ circle; },\n/* harmony export */   \"toDate\": function() { return /* binding */ toDate; },\n/* harmony export */   \"isOver\": function() { return /* binding */ isOver; },\n/* harmony export */   \"css\": function() { return /* binding */ css; },\n/* harmony export */   \"toCoordinates\": function() { return /* binding */ toCoordinates; }\n/* harmony export */ });\nfunction computeYRatio(height, max, min) {\r\n    return (max - min) / height\r\n}\r\n\r\nfunction computeXRatio(width, length) {\r\n    return width / (length - 2)\r\n}\r\n\r\nfunction strokeLine(context, coordinates, { color }) {\r\n    // Начинаем отрисовку объектов в Canvas\r\n    context.beginPath()\r\n\r\n    // Задаем ширину отображаемых линий\r\n    context.lineWidth = 2\r\n\r\n    // Задаем цвет линиям графика\r\n    context.strokeStyle = color\r\n\r\n    for (const [x, y] of coordinates) {\r\n        // Определяем расположение линий на холсте\r\n        context.lineTo(x, y)\r\n    }\r\n\r\n    // Переносим линии на холст\r\n    context.stroke()\r\n\r\n    // Заканчиваем отрисовку объектов в Canvas\r\n    context.closePath()\r\n}\r\n\r\nfunction boundaries({ columns, types }) {\r\n    let min, max\r\n\r\n    columns.forEach(column => {\r\n        if (types[column[0]] !== 'line') return\r\n\r\n        if (typeof min !== 'number') min = column[1]\r\n        if (typeof max !== 'number') max = column[1]\r\n\r\n        if (min > column[1]) min = column[1]\r\n        if (max < column[1]) max = column[1]\r\n\r\n        for (let i = 2; i < column.length; i++) {\r\n            if (min > column[i]) min = column[i]\r\n            if (max < column[i]) max = column[i]\r\n        }\r\n    })\r\n\r\n    // for (const [, y] of data) {\r\n    //     if (typeof min !== 'number') min = y\r\n    //     if (typeof max !== 'number') max = y\r\n\r\n    //     if (min > y) min = y\r\n    //     if (max < y) max = y\r\n    // }\r\n\r\n    return [min, max]\r\n}\r\n\r\nfunction circle(context, [x, y], color, circleRadius) {\r\n    context.beginPath()\r\n\r\n    context.strokeStyle = color\r\n    context.fillStyle = '#FFFFFF'\r\n    context.arc(x, y, circleRadius, 0, Math.PI * 2)\r\n\r\n    context.fill()\r\n    context.stroke()\r\n    context.closePath()\r\n}\r\n\r\nfunction toDate(timestamp) {\r\n    const shortMonths = [\r\n        'Jan',\r\n        'Feb',\r\n        'Mar',\r\n        'Apr',\r\n        'May',\r\n        'Jun',\r\n        'Jul',\r\n        'Aug',\r\n        'Sep',\r\n        'Oct',\r\n        'Nov',\r\n        'Dec',\r\n    ]\r\n\r\n    const date = new Date(timestamp)\r\n    return `${shortMonths[date.getMonth()]} ${date.getDate()}`\r\n}\r\n\r\nfunction isOver(mouse, x, length, DPI_WIDTH) {\r\n    if (!mouse) return false\r\n\r\n    const width = DPI_WIDTH / length\r\n    return Math.abs(x - mouse.x) < width / 2\r\n}\r\n\r\nfunction css(el, styles = {}) {\r\n    Object.assign(el.style, styles)\r\n}\r\n\r\nfunction toCoordinates(xRatio, yRatio, DPI_HEIGHT, PADDING, yMin) {\r\n    return column =>\r\n        column\r\n            .map((y, index) => [\r\n                Math.floor((index - 1) * xRatio),\r\n                Math.floor(DPI_HEIGHT - PADDING - (y - yMin) / yRatio),\r\n            ])\r\n            .filter((_, i) => i !== 0)\r\n}\r\n\n\n//# sourceURL=webpack:///./utils.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./app.js");
/******/ 	
/******/ })()
;